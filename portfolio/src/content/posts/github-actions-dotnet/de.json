{
  "title": "CI/CD Pipeline mit GitHub Actions für .NET Projekte",
  "summary": "Praktischer Leitfaden zur Konfiguration von GitHub Actions für .NET-Projekte - vom Build bis zum VPS-Deployment.",
  "content": "## Einführung\n\nGitHub Actions ist ein leistungsstarkes CI/CD-Automatisierungstool, das sich nahtlos in .NET-Projekte integriert. In diesem Artikel zeige ich, wie man eine Pipeline von Grund auf konfiguriert.\n\n## Grundkonfiguration\n\nWorkflow-Datei kommt in `.github/workflows/`:\n\n```yaml\nname: .NET CI/CD\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Setup .NET\n      uses: actions/setup-dotnet@v4\n      with:\n        dotnet-version: '8.0.x'\n    \n    - name: Restore dependencies\n      run: dotnet restore\n    \n    - name: Build\n      run: dotnet build --no-restore -c Release\n    \n    - name: Test\n      run: dotnet test --no-build -c Release\n```\n\n## Docker-Image erstellen\n\n```yaml\n  docker:\n    needs: build\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Login to GitHub Container Registry\n      uses: docker/login-action@v3\n      with:\n        registry: ghcr.io\n        username: ${{ github.actor }}\n        password: ${{ secrets.GITHUB_TOKEN }}\n    \n    - name: Build and push\n      uses: docker/build-push-action@v5\n      with:\n        context: .\n        push: true\n        tags: ghcr.io/${{ github.repository }}:latest\n```\n\n## VPS-Deployment\n\nFür das Deployment verwende ich SSH und Watchtower:\n\n```yaml\n  deploy:\n    needs: docker\n    runs-on: ubuntu-latest\n    steps:\n    - name: Deploy via SSH\n      uses: appleboy/ssh-action@v1.0.0\n      with:\n        host: ${{ secrets.VPS_HOST }}\n        username: ${{ secrets.VPS_USER }}\n        key: ${{ secrets.VPS_SSH_KEY }}\n        script: |\n          cd /opt/myapp\n          docker compose pull\n          docker compose up -d\n```\n\n## Secrets\n\nIn den Repo-Einstellungen hinzufügen:\n\n- `VPS_HOST` - Server-IP-Adresse\n- `VPS_USER` - SSH-Benutzername\n- `VPS_SSH_KEY` - SSH-Privatschlüssel\n\n## Tipps & Tricks\n\n1. **NuGet Cache** - beschleunigt Builds\n2. **Matrix Builds** - auf verschiedenen .NET-Versionen testen\n3. **Bedingte Jobs** - Deployment nur vom main Branch\n4. **Artifacts** - Logs und Testergebnisse aufbewahren"
}