{
  "title": "CI/CD pipeline z GitHub Actions dla projektów .NET",
  "summary": "Praktyczny przewodnik po konfiguracji GitHub Actions dla projektów .NET - od buildu po deployment na VPS.",
  "content": "## Wstęp\n\nGitHub Actions to potężne narzędzie do automatyzacji CI/CD, które świetnie integruje się z projektami .NET. W tym artykule pokażę jak skonfigurować pipeline od zera.\n\n## Podstawowa konfiguracja\n\nPlik workflow umieszczamy w `.github/workflows/`:\n\n```yaml\nname: .NET CI/CD\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Setup .NET\n      uses: actions/setup-dotnet@v4\n      with:\n        dotnet-version: '8.0.x'\n    \n    - name: Restore dependencies\n      run: dotnet restore\n    \n    - name: Build\n      run: dotnet build --no-restore -c Release\n    \n    - name: Test\n      run: dotnet test --no-build -c Release\n```\n\n## Budowanie obrazu Docker\n\n```yaml\n  docker:\n    needs: build\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Login to GitHub Container Registry\n      uses: docker/login-action@v3\n      with:\n        registry: ghcr.io\n        username: ${{ github.actor }}\n        password: ${{ secrets.GITHUB_TOKEN }}\n    \n    - name: Build and push\n      uses: docker/build-push-action@v5\n      with:\n        context: .\n        push: true\n        tags: ghcr.io/${{ github.repository }}:latest\n```\n\n## Deployment na VPS\n\nDo deploymentu używam SSH i Watchtower:\n\n```yaml\n  deploy:\n    needs: docker\n    runs-on: ubuntu-latest\n    steps:\n    - name: Deploy via SSH\n      uses: appleboy/ssh-action@v1.0.0\n      with:\n        host: ${{ secrets.VPS_HOST }}\n        username: ${{ secrets.VPS_USER }}\n        key: ${{ secrets.VPS_SSH_KEY }}\n        script: |\n          cd /opt/myapp\n          docker compose pull\n          docker compose up -d\n```\n\n## Sekrety\n\nW ustawieniach repo dodaj:\n\n- `VPS_HOST` - adres IP serwera\n- `VPS_USER` - użytkownik SSH\n- `VPS_SSH_KEY` - klucz prywatny SSH\n\n## Tips & Tricks\n\n1. **Cache NuGet** - przyspiesza buildy\n2. **Matrix builds** - testuj na różnych wersjach .NET\n3. **Conditional jobs** - deploy tylko z main branch\n4. **Artifacts** - zachowaj logi i wyniki testów"
}