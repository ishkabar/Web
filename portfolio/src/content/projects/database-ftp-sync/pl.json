{
  "title": "DatabaseFtpSync - Synchronizacja Baz Danych ERP",
  "summary": "Zautomatyzowany system synchronizacji baz danych między systemami ERP przez FTP z logiką ponawiania prób i wsparciem dla wielu baz danych.",
  "content": "## Opis\n\nDatabaseFtpSync to solidny system synchronizacji zaprojektowany do utrzymywania wielu baz danych ERP w synchronizacji poprzez wymianę plików FTP. System obsługuje synchronizację krytycznych danych biznesowych między różnymi silnikami baz danych z kompleksową obsługą błędów i mechanizmami odzyskiwania.\n\n## Funkcje\n\n### Wsparcie Wielu Baz Danych\n\n- **Firebird** - Podstawowy silnik bazy danych dla starszych systemów ERP\n- **PostgreSQL** - Wsparcie nowoczesnych relacyjnych baz danych\n- **MySQL** - Kompatybilność międzyplatformowa\n- **LinqToDB ORM** - Warstwa dostępu do bazy danych z kontrolą typów\n\n### Przepływ Synchronizacji\n\n1. Eksport danych z bazy źródłowej do plików CSV/XML\n2. Upload plików na serwer FTP\n3. Download plików z FTP do miejsca docelowego\n4. Import i scalanie danych do docelowej bazy\n5. Logowanie wszystkich operacji i obsługa konfliktów\n\n### Funkcje Niezawodności\n\n- **Logika Ponawiania** - Automatyczne ponowienie przy przejściowych błędach\n- **Exponential Backoff** - Progresywne opóźnienie między próbami, aby nie przeciążać usług\n- **Wsparcie Transakcji** - Operacje atomowe zapobiegające częściowym aktualizacjom\n- **Rozwiązywanie Konfliktów** - Obsługa równoczesnych modyfikacji\n- **Walidacja Danych** - Walidacja schematu przed importem\n\n## Architektura\n\n### Główne Komponenty\n\n- **Silnik Synchronizacji** - Orkiestruje proces synchronizacji\n- **Klient FTP** - Obsługuje transfer plików z logiką ponawiania\n- **Adaptery Baz Danych** - Warstwa abstrakcji dla różnych silników BD\n- **Scheduler** - Konfigurowalne interwały synchronizacji\n- **Logger** - Kompleksowe logowanie operacji\n\n## Stos Technologiczny\n\n- C# / .NET 6-8\n- LinqToDB - ORM do baz danych\n- Docker - Konteneryzowane wdrożenie\n- Klient FTP - Protokół transferu plików\n- Serilog - Strukturalne logowanie\n\n## Wyzwania\n\n### Krytyczny Bug Utraty Danych\n\n**Problem:** Race condition powodował nadpisywanie danych podczas równoczesnych operacji synchronizacji\n\n**Rozwiązanie:** Implementacja mechanizmu blokowania plików i izolacji transakcji dla zapewnienia operacji atomowych\n\n### Niestabilność Sieci\n\n**Problem:** Transfery FTP zawodziły przy niestabilnych połączeniach, pozostawiając bazy danych w niespójnym stanie\n\n**Rozwiązanie:**\n\n- Logika ponawiania z exponential backoff (1s, 2s, 4s, 8s, 16s)\n- Wsparcie wznowienia częściowych plików\n- Weryfikacja sumy kontrolnej przed importem\n\n### Różnice w Schematach Baz Danych\n\n**Problem:** Różne systemy ERP używają nieznacznie różniących się schematów\n\n**Rozwiązanie:** Warstwa mapowania transformująca strukturę danych między systemami zachowując logikę biznesową\n\n## Wdrożenie\n\n- **Kontener Docker** - Izolowane środowisko uruchomieniowe\n- **Montowanie Wolumenów** - Trwałe przechowywanie logów i plików tymczasowych\n- **Zmienne Środowiskowe** - Konfiguracja bez przebudowy\n- **Health Checks** - Monitorowanie i automatyczny restart\n\n## Rezultaty\n\n- Synchronizuje tysiące rekordów dziennie między wieloma instancjami ERP\n- 99.9% uptime z automatycznym odzyskiwaniem\n- Redukcja błędów ręcznego wprowadzania danych do niemal zera\n- Średni czas synchronizacji: poniżej 2 minut dla pełnej bazy danych\n\n## Kluczowe Wnioski\n\n- Znaczenie operacji idempotentnych w systemach synchronizacji\n- Exponential backoff jest krytyczny dla zależności od usług zewnętrznych\n- Granice transakcji muszą być starannie zaprojektowane\n- Logowanie jest niezbędne do debugowania systemów rozproszonych"
}